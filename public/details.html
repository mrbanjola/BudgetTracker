<!--
  Hit RUN to see this project in action!
  
  This project will auto-refresh as you edit the HTML, CSS and JS. See README.md for more info (including how to disable auto-refresh and install packages).
-->

<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1.0"
    />
    <title>SlantKollen</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <!-- Latest compiled and minified CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <script src="https://kit.fontawesome.com/432fc6c2f7.js" crossorigin="anonymous"></script>


    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="https://kit.fontawesome.com/432fc6c2f7.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body id="body">
    <nav id="topNav" class="navbar fixed-top navbar-expand-md navbar-dark">
      <a class="navbar-brand" href="#">
        <h4>Slantkollen</h4>
      </a>
      <button
        class="navbar-toggler mx-3"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#collapsibleNavbar"
      >
        <i class="fa-solid fa-magnifying-glass p-2" style="color: #FFFFF"></i>
      </button>

      <div class="collapse navbar-collapse" id="collapsibleNavbar">
        <ul class="navbar-nav justify-content-center text-center">
          <li class="nav-item">
            <form>
              <input class="vehicleSearchInput" placeholder="Sök fordon..." />
            </form>
          </li>
        </ul>
      </div>
    </nav>
    <div class="top-section section p-4">
      <h4 class="section-header">Sammanfattning</h4>
      <div class="row mx-auto">
        <div class="card-summary container col-5 mx-auto">
          <p class="card-summary-text-small-top">Dagar efter lön</p>
          <h1 id = "daysSinceSalary" class="card-summary-text-large card-summary-text-large-bottom">
            
          </h1>
        </div>
        <div id = "nonFixedSumContainer" class="card-summary container col-6 mx-auto">
          <p class="card-summary-text-small-bottom">Rörliga kostnader</p>
        </div>
        <div class="card-summary container col-7 my-3 mx-auto">
          <h1
            style="color: red"
            class="card-summary-text-large card-summary-text-large-top"
          >
            343kr
          </h1>
          <p class="card-summary-text-small-bottom">Över budget</p>
        </div>
      </div>
    </div>
    <div id = "mainContainer">
    <div class="section p-4">
      <h4 class="section-header">Denna period</h4>
      <div class="row mx-auto">
        <div class="card-regular col-10 mx-auto">
          <p class="card-summary-text-small-top">Fasta kostnader</p>
          <p></p>
          <table id = "fixedExpensesTable" class="table border-dark table-hover">
          </table>
        </div>
      </div>
    </div>
    </div>
    <button
      id="add-new-purchase-button"
      data-bs-toggle="modal"
      data-bs-target="#myModal"
    >
      <i class="fa-solid fa-gear fa-2xl" style="color: #ffffff;"></i>
    </button>
    <!-- The Modal -->
    <div class="modal fade" id="myModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Nytt köp</h4>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
			  <div class = "section">
				  <h4 class = "section-header">Lägg till köp</h4>
			  </div>
			  <div class = "section">
				  <label for = "purchase-name">Vad har du köpt?</label>
				  <input class = "form-control" type = "text" name = "purchase-name" placeholder = "Titel">
				  <label for = "purchase-price">Vad kostade det?</label>
				  <input class = "form-control" type = "number" name = "purchase-price" placeholder = "Titel">
				  <label for = "purchase-date">När hände detta?</label>
				  <input class = "form-control" type = "date" name = "purchase-date">
				  <label for = "purchase-comment">Har du något mer att berätta?</label>
				  <textarea class = "form-control" name = "purchase-comment" placeholder = "Kommentar"></textarea>
				  <button id = "submit-new-purchase-button" class = "btn btn-primary my-4">Lägg till</button>

				  <script>
					  document.getElementById("submit-new-purchase-button").addEventListener("click", (e) => {
						  let data = {
							  name: document.getElementsByName("purchase-name")[0].value,
							  price: document.getElementsByName("purchase-price")[0].value,
							  comment: document.getElementsByName("purchase-comment")[0].value
						  };

						  console.table(data);
					  });
				  </script>
				  
		  </div>

          <!-- Modal footer -->
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
	</div>

    <div class="bottom-section"></div>
    <nav
      class="navbar bg-light text-dark navbar-light fixed-bottom justify-content-center"
      style="margin-bottom: -20px"
    >
      <div class="mx-auto text-center my-0">
        <a href = "/index.html"><i
          targetView="home"
          id="homeViewButton"
          class="fa-solid fa-xl fa-house my-3"
          style="color: #26263a"
        ></i>
        </a>
        <p style="font-size: 12px">Översikt</p>
      </div>

      <div class="mx-auto text-center my-0">
        <a href="/details.html">
        <i
          targetView="vehicles"
          id="vehicleViewButton"
          class="fa-solid fa-comments-dollar fa-xl my-3"
          style="color: #26263a"
        ></i>
        </a>
        <p style="font-size: 12px">Detaljer</p>
      </div>
      <div class="mx-auto text-center my-0">
        <a href = "/stats.html">
          <i
            id="deviatonsViewButton"
            class="fa-solid fa-xl fa-file-invoice my-3"
            style="color: #26263a"
          ></i>
        </a>
        <p style="font-size: 12px">Statistik</p>
      </div>
      <div class="mx-auto text-center my-0">
        <a href = "/budget.html">
          <i
            id="fmsViewButton"
            class="fa-solid fa-money-check-dollar fa-xl my-3"
            style="color: #26263a"
          ></i>
          </a>
        <p style="font-size: 12px">Vad?</p>
      </div>
    </nav>
  </body>

  <script id="expenseTemplate" type="text/html">
    <tr>
      <td>{{description}}</td>
      <td class="{{textColor}}-purchase-text">{{sum}}</td>
    </tr>
    </script>
  <script id="nonFixedSumTemplate" type="text/html">
    <h2 class="card-summary-text-large card-summary-text-large-top">
     {{sum}}
   </h2>
  </script>
  <script id="tableSectionTemplate" type="text/html">
    <div class="section p-4">
      <h4 class="section-header">{{category}}</h4>
      <div class="row mx-auto">
        <div class="card-regular col-10 mx-auto">
          <p class="card-summary-text-small-top">Alla transaktioner</p>
          <p></p>
          <table id = "{{id}}Table" class="table border-dark table-hover">
          </table>
        </div>
      </div>
    </div>
  </script>
    
	<script src = "/socket.io/socket.io.js"></script>
	<script src = "/scripts/details.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.min.js"></script>

 

  
  </html>
</html>
